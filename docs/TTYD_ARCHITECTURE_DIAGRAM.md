# ๐๏ธ TTYD Web Terminal - Diagramas de Arquitectura

## ๐ Diagrama de Flujo de Conexiรณn

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         USUARIO                                  โ
โ                    (Navegador Web)                               โ
โ                                                                   โ
โ  Chrome / Firefox / Safari / Edge                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                         โ
                         โ 1. HTTP GET http://localhost:7681
                         โ
                         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    TTYD SERVER                                   โ
โ                   (Puerto 7681)                                  โ
โ                                                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  HTTP Server (libwebsockets)                             โ  โ
โ  โ  โข Sirve interfaz HTML/JS                                โ  โ
โ  โ  โข Maneja autenticaciรณn Basic Auth                       โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                         โ                                        โ
โ                         โ 2. Upgrade to WebSocket                โ
โ                         โ                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  WebSocket Handler                                       โ  โ
โ  โ  โข Protocolo: ws://localhost:7681/ws                     โ  โ
โ  โ  โข Bidireccional: stdin/stdout                           โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                         โ                                        โ
โ                         โ 3. Spawn Process                       โ
โ                         โ                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  PTY (Pseudo Terminal)                                   โ  โ
โ  โ  โข Terminal Type: xterm-256color                         โ  โ
โ  โ  โข Emulaciรณn completa de terminal                        โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                         โ
                         โ 4. Execute Command
                         โ
                         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                  PYTHON CLI PROCESS                              โ
โ                   (main.py)                                      โ
โ                                                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Rich Console                                            โ  โ
โ  โ  โข Colores ANSI                                          โ  โ
โ  โ  โ  โข Tablas formateadas                                 โ  โ
โ  โ  โข Paginaciรณn                                            โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                         โ                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  Command Handler                                         โ  โ
โ  โ  โข mercados, analizar, salud, ayuda                      โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                         โ                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  API Clients                                             โ  โ
โ  โ  โข The Odds API                                          โ  โ
โ  โ  โข API-Football                                          โ  โ
โ  โ  โข Gemini AI                                             โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                         โ                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ  SQLite Database                                         โ  โ
โ  โ  โข bet_copilot.db                                        โ  โ
โ  โ  โข Cachรฉ de datos                                        โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ Flujo de Datos en Tiempo Real

```
USUARIO                 TTYD                    PYTHON CLI
  โ                      โ                          โ
  โ  Escribe comando     โ                          โ
  โโโโโโโโโโโโโโโโโโโโโโ>โ                          โ
  โ                      โ  Envรญa via WebSocket     โ
  โ                      โโโโโโโโโโโโโโโโโโโโโโโโโโ>โ
  โ                      โ                          โ
  โ                      โ                          โ  Procesa
  โ                      โ                          โ  comando
  โ                      โ                          โ
  โ                      โ  Recibe stdout/stderr    โ
  โ                      โ<โโโโโโโโโโโโโโโโโโโโโโโโโโ
  โ  Renderiza en        โ                          โ
  โ  terminal web        โ                          โ
  โ<โโโโโโโโโโโโโโโโโโโโโโ                          โ
  โ                      โ                          โ
  โ  [Resultado visible] โ                          โ
  โ                      โ                          โ
```

---

## ๐ณ Arquitectura Docker

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        DOCKER HOST                               โ
โ                                                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  Docker Network: bet-network (bridge)                      โ โ
โ  โ                                                             โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ
โ  โ  โ  Container: bet-copilot-ttyd                         โ โ โ
โ  โ  โ                                                       โ โ โ
โ  โ  โ  Image: alpine:3.19                                  โ โ โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ
โ  โ  โ  โ  ttyd (Port 7681)                              โ โ โ โ
โ  โ  โ  โ  โข libwebsockets                               โ โ โ โ
โ  โ  โ  โ  โข HTTP + WebSocket server                     โ โ โ โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ
โ  โ  โ  โ  Python 3.9                                    โ โ โ โ
โ  โ  โ  โ  โข main.py                                     โ โ โ โ
โ  โ  โ  โ  โข bet_copilot/                                โ โ โ โ
โ  โ  โ  โ  โข requirements.txt                            โ โ โ โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ
โ  โ  โ  โ  SQLite Database                               โ โ โ โ
โ  โ  โ  โ  /data/bet_copilot.db                          โ โ โ โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ
โ  โ  โ                                                       โ โ โ
โ  โ  โ  Volumes:                                             โ โ โ
โ  โ  โ  โข bet-data:/data (persistent)                       โ โ โ
โ  โ  โ                                                       โ โ โ
โ  โ  โ  Environment:                                         โ โ โ
โ  โ  โ  โข TTYD_USER, TTYD_PASS                              โ โ โ
โ  โ  โ  โข ODDS_API_KEY, API_FOOTBALL_KEY, GEMINI_API_KEY   โ โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ
โ  โ                                                             โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ
โ  โ  โ  Container: bet-copilot-nginx (opcional)             โ โ โ
โ  โ  โ                                                       โ โ โ
โ  โ  โ  Image: nginx:alpine                                 โ โ โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ
โ  โ  โ  โ  Nginx (Ports 80, 443)                         โ โ โ โ
โ  โ  โ  โ  โข Reverse Proxy                               โ โ โ โ
โ  โ  โ  โ  โข SSL/TLS Termination                         โ โ โ โ
โ  โ  โ  โ  โข Rate Limiting                               โ โ โ โ
โ  โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ โ
โ  โ  โ                                                       โ โ โ
โ  โ  โ  Volumes:                                             โ โ โ
โ  โ  โ  โข ./nginx.conf:/etc/nginx/nginx.conf               โ โ โ
โ  โ  โ  โข ./ssl:/etc/nginx/ssl                              โ โ โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                   โ
โ  Port Mappings:                                                  โ
โ  โข 7681:7681 (ttyd direct access)                               โ
โ  โข 80:80 (HTTP - Nginx)                                         โ
โ  โข 443:443 (HTTPS - Nginx)                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ Flujo de Autenticaciรณn

```
โโโโโโโโโโโโ                                    โโโโโโโโโโโโ
โ Browser  โ                                    โ   ttyd   โ
โโโโโโฌโโโโโโ                                    โโโโโโฌโโโโโโ
     โ                                                โ
     โ  1. GET http://localhost:7681                 โ
     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ>โ
     โ                                                โ
     โ  2. 401 Unauthorized                          โ
     โ     WWW-Authenticate: Basic realm="ttyd"      โ
     โ<โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ                                                โ
     โ  3. Prompt for credentials                    โ
     โ     [Username: _____]                          โ
     โ     [Password: _____]                          โ
     โ                                                โ
     โ  4. GET with Authorization header             โ
     โ     Authorization: Basic base64(user:pass)    โ
     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ>โ
     โ                                                โ
     โ                                                โ  5. Validate
     โ                                                โ     credentials
     โ                                                โ
     โ  6. 200 OK + HTML/JS terminal interface       โ
     โ<โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ                                                โ
     โ  7. Upgrade to WebSocket                      โ
     โ     Upgrade: websocket                         โ
     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ>โ
     โ                                                โ
     โ  8. 101 Switching Protocols                   โ
     โ<โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
     โ                                                โ
     โ  9. WebSocket connection established          โ
     โ<โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ>โ
     โ                                                โ
     โ  10. Terminal ready for input                 โ
     โ                                                โ
```

---

## ๐ฆ Estructura de Archivos Docker

```
Bet-Copilot/
โ
โโโ docker/
โ   โโโ Dockerfile.ttyd          # Imagen principal
โ   โ   โโโ FROM alpine:3.19
โ   โ   โโโ RUN apk add ttyd python3 pip
โ   โ   โโโ COPY requirements.txt
โ   โ   โโโ RUN pip install -r requirements.txt
โ   โ   โโโ COPY bet_copilot/ main.py
โ   โ   โโโ EXPOSE 7681
โ   โ   โโโ CMD ttyd python3 main.py
โ   โ
โ   โโโ docker-compose.yml       # Orquestaciรณn
โ   โ   โโโ services:
โ   โ   โ   โโโ ttyd:
โ   โ   โ   โ   โโโ build: Dockerfile.ttyd
โ   โ   โ   โ   โโโ ports: 7681:7681
โ   โ   โ   โ   โโโ environment: API keys
โ   โ   โ   โ   โโโ healthcheck
โ   โ   โ   โโโ nginx: (opcional)
โ   โ   โ       โโโ image: nginx:alpine
โ   โ   โ       โโโ ports: 80, 443
โ   โ   โ       โโโ volumes: nginx.conf, ssl/
โ   โ   โโโ networks: bet-network
โ   โ
โ   โโโ nginx.conf               # Reverse proxy config
โ   โ   โโโ upstream ttyd
โ   โ   โโโ server (HTTP)
โ   โ   โโโ server (HTTPS)
โ   โ   โโโ location /terminal
โ   โ
โ   โโโ .env.example             # Template de variables
โ   โ   โโโ TTYD_USER=
โ   โ   โโโ TTYD_PASS=
โ   โ   โโโ ODDS_API_KEY=
โ   โ   โโโ API_FOOTBALL_KEY=
โ   โ   โโโ GEMINI_API_KEY=
โ   โ
โ   โโโ ssl/                     # Certificados SSL
โ       โโโ cert.pem
โ       โโโ key.pem
โ
โโโ scripts/
โ   โโโ deploy_alpha.sh          # Script de deployment
โ       โโโ Check Docker
โ       โโโ Check .env
โ       โโโ docker-compose build
โ       โโโ docker-compose up -d
โ       โโโ Health check
โ
โโโ docs/
    โโโ web_terminal/
        โโโ SETUP.md             # Guรญa de instalaciรณn
```

---

## ๐ Topologรญa de Red

### Desarrollo Local

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         localhost (127.0.0.1)           โ
โ                                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  Browser                           โ โ
โ  โ  http://localhost:7681             โ โ
โ  โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโ โ
โ                 โ                        โ
โ                 โ Loopback               โ
โ                 โ                        โ
โ  โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  Docker Container                  โ โ
โ  โ  bet-copilot-ttyd                  โ โ
โ  โ  Port: 7681                        โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Producciรณn con Nginx

```
                    INTERNET
                       โ
                       โ HTTPS (443)
                       โ
                       โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              Firewall / VPS                  โ
โ                                               โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  Nginx (Port 443)                       โ โ
โ  โ  โข SSL/TLS Termination                  โ โ
โ  โ  โข Rate Limiting                        โ โ
โ  โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                 โ                             โ
โ                 โ HTTP (internal)             โ
โ                 โ                             โ
โ  โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  ttyd (Port 7681)                       โ โ
โ  โ  โข WebSocket Upgrade                    โ โ
โ  โ  โข Authentication                       โ โ
โ  โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                 โ                             โ
โ                 โ PTY                         โ
โ                 โ                             โ
โ  โโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ  Python CLI                             โ โ
โ  โ  โข main.py                              โ โ
โ  โ  โข API Clients                          โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                               โ
โ  Firewall Rules:                             โ
โ  โข ALLOW 443/tcp (HTTPS)                     โ
โ  โข DENY 7681/tcp (Direct ttyd access)        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ Ciclo de Vida del Contenedor

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    DOCKER LIFECYCLE                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    [docker-compose build]
              โ
              โผ
    โโโโโโโโโโโโโโโโโโโ
    โ   Image Built   โ
    โ  (alpine:3.19)  โ
    โโโโโโโโโโฌโโโโโโโโโ
             โ
             โ [docker-compose up -d]
             โผ
    โโโโโโโโโโโโโโโโโโโ
    โ   Container     โ
    โ    Created      โ
    โโโโโโโโโโฌโโโโโโโโโ
             โ
             โ [Start ttyd]
             โผ
    โโโโโโโโโโโโโโโโโโโ
    โ   Container     โ
    โ    Running      โโโโโโโโโโโโโ
    โโโโโโโโโโฌโโโโโโโโโ           โ
             โ                     โ
             โ [Health Check]      โ
             โผ                     โ
    โโโโโโโโโโโโโโโโโโโ           โ
    โ    Healthy      โ           โ
    โ  (curl :7681)   โ           โ
    โโโโโโโโโโฌโโโโโโโโโ           โ
             โ                     โ
             โ [Serving]           โ
             โผ                     โ
    โโโโโโโโโโโโโโโโโโโ           โ
    โ   Accepting     โ           โ
    โ  Connections    โ           โ
    โโโโโโโโโโฌโโโโโโโโโ           โ
             โ                     โ
             โ [Error/Crash?]      โ
             โผ                     โ
    โโโโโโโโโโโโโโโโโโโ           โ
    โ   Unhealthy     โ           โ
    โ  (3 retries)    โ           โ
    โโโโโโโโโโฌโโโโโโโโโ           โ
             โ                     โ
             โ [restart: unless-stopped]
             โโโโโโโโโโโโโโโโโโโโโโโ

    [docker-compose down]
              โ
              โผ
    โโโโโโโโโโโโโโโโโโโ
    โ   Container     โ
    โ    Stopped      โ
    โโโโโโโโโโโโโโโโโโโ
```

---

## ๐ Diagrama de Componentes

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    BET-COPILOT SYSTEM                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  PRESENTATION LAYER                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โ  โ  Web Browser โ  โ  ttyd Client โ  โ  WebSocket   โ          โ
โ  โ  (HTML/JS)   โ  โ  (Terminal)  โ  โ  Connection  โ          โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  TRANSPORT LAYER                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โ  โ  HTTP Server โ  โ  WebSocket   โ  โ  PTY (xterm) โ          โ
โ  โ  (ttyd)      โ  โ  Handler     โ  โ  Emulator    โ          โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  APPLICATION LAYER                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โ  โ  CLI Handler โ  โ  Rich Consoleโ  โ  Command     โ          โ
โ  โ  (main.py)   โ  โ  (UI)        โ  โ  Parser      โ          โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  BUSINESS LOGIC LAYER                                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โ  โ  Match       โ  โ  Poisson     โ  โ  Kelly       โ          โ
โ  โ  Analyzer    โ  โ  Predictor   โ  โ  Criterion   โ          โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โ  โ  Multi-AI    โ  โ  News        โ  โ  Alternative โ          โ
โ  โ  Consensus   โ  โ  Aggregator  โ  โ  Markets     โ          โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  DATA ACCESS LAYER                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โ  โ  Odds API    โ  โ  API-Footballโ  โ  Gemini AI   โ          โ
โ  โ  Client      โ  โ  Client      โ  โ  Client      โ          โ
โ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ          โ
โ  โโโโโโโโโโโโโโโโ                                               โ
โ  โ  SQLite DB   โ                                               โ
โ  โ  (Cache)     โ                                               โ
โ  โโโโโโโโโโโโโโโโ                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ Puntos de Integraciรณn

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    EXTERNAL SERVICES                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

    โโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโ
    โ  The Odds    โ         โ API-Football โ         โ  Gemini AI   โ
    โ     API      โ         โ              โ         โ              โ
    โโโโโโโโฌโโโโโโโโ         โโโโโโโโฌโโโโโโโโ         โโโโโโโโฌโโโโโโโโ
           โ                        โ                        โ
           โ REST API               โ REST API               โ REST API
           โ (JSON)                 โ (JSON)                 โ (JSON)
           โ                        โ                        โ
           โโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                                    โผ
           โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
           โ         BET-COPILOT (Docker Container)          โ
           โ                                                  โ
           โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
           โ  โ  API Clients (aiohttp)                     โ โ
           โ  โ  โข Rate limiting                           โ โ
           โ  โ  โข Error handling                          โ โ
           โ  โ  โข Retry logic                             โ โ
           โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
           โ                     โ                            โ
           โ                     โผ                            โ
           โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
           โ  โ  SQLite Cache                              โ โ
           โ  โ  โข Reduce API calls                        โ โ
           โ  โ  โข Offline mode                            โ โ
           โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
           โ                     โ                            โ
           โ                     โผ                            โ
           โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
           โ  โ  Business Logic                            โ โ
           โ  โ  โข Poisson, Kelly, AI Analysis             โ โ
           โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
           โ                     โ                            โ
           โ                     โผ                            โ
           โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
           โ  โ  CLI Output (Rich)                         โ โ
           โ  โ  โข Formatted tables                        โ โ
           โ  โ  โข Colors, charts                          โ โ
           โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
           โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                                    โ stdout/stderr
                                    โ
                                    โผ
           โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
           โ              ttyd (WebSocket)                    โ
           โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                    โ
                                    โ WebSocket
                                    โ
                                    โผ
           โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
           โ           Browser (Terminal UI)                  โ
           โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

**Documento creado**: 2026-01-11  
**Versiรณn**: v0.7.0-alpha  
**Propรณsito**: Documentaciรณn visual de arquitectura ttyd
